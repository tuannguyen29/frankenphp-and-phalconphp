{"apps":{"http":{"servers":{"srv0":{"automatic_https":{"disable_redirects":true},"listen":[":443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"vars","root":"/data/localhost/public"}]},{"group":"group1","handle":[{"handler":"rewrite","uri":"/index.php?_url={http.request.uri}\u0026{http.request.uri.query}"}],"match":[{"not":[{"file":{}},{"path":["*.php"]}]}]},{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"static_response","headers":{"Location":["{http.request.orig_uri.path}/"]},"status_code":308}],"match":[{"file":{"try_files":["{http.request.uri.path}/index.php"]},"not":[{"path":["*/"]}]}]},{"handle":[{"handler":"rewrite","uri":"{http.matchers.file.relative}"}],"match":[{"file":{"split_path":[".php"],"try_files":["{http.request.uri.path}","{http.request.uri.path}/index.php","index.php"],"try_policy":"first_exist_fallback"}}]},{"handle":[{"handler":"php","split_path":[".php"]}],"match":[{"path":["*.php"]}]},{"handle":[{"handler":"file_server"}]}]}],"match":[{"path":["*.php"]}]}]}],"match":[{"host":["127.0.0.1","::1"]}],"terminal":true}]},"srv1":{"automatic_https":{"disable_redirects":true},"listen":[":80"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"vars","root":"/data/caddysite.vn/public"}]},{"handle":[{"handler":"headers","response":{"set":{"Access-Control-Allow-Origin":["*"],"Cache-Control":["public, must-revalidate, proxy-revalidate"],"Pragma":["public"]}}}],"match":[{"path":["*.ico","*.css","*.js","*.gif","*.jpg","*.jpeg","*.png","*.ttf","*.eot","*.svg","*.woff"]}]},{"group":"group2","handle":[{"handler":"rewrite","uri":"/index.php?_url={http.request.uri}\u0026{http.request.uri.query}"}],"match":[{"not":[{"path":["/static/*"]},{"file":{}},{"path":["*.php"]}]}]},{"handle":[{"encodings":{"gzip":{}},"handler":"encode","prefer":["gzip"]}]},{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"rewrite","strip_path_prefix":"/static-caddy"}]},{"handle":[{"handler":"vars","root":"/data/caddysite.vn/static/"},{"handler":"headers","response":{"set":{"Access-Control-Allow-Headers":["*"],"Access-Control-Allow-Methods":["*"],"Access-Control-Allow-Origin":["*"]}}},{"handler":"file_server","hide":["/etc/caddy/sites/caddysite.vn.caddy"]}]}]}],"match":[{"path":["/static-caddy/*"]}]},{"handle":[{"handler":"static_response","status_code":403}],"match":[{"path_regexp":{"name":"dotfiles","pattern":"^/\\."}}]},{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"static_response","headers":{"Location":["{http.request.orig_uri.path}/"]},"status_code":308}],"match":[{"file":{"try_files":["{http.request.uri.path}/index.php"]},"not":[{"path":["*/"]}]}]},{"handle":[{"handler":"rewrite","uri":"{http.matchers.file.relative}"}],"match":[{"file":{"split_path":[".php"],"try_files":["{http.request.uri.path}","{http.request.uri.path}/index.php","index.php"],"try_policy":"first_exist_fallback"}}]},{"handle":[{"handler":"php","split_path":[".php"]}],"match":[{"path":["*.php"]}]},{"handle":[{"handler":"file_server"}]}]}],"match":[{"path":["*.php"]}]},{"handle":[{"handler":"file_server","hide":["/etc/caddy/sites/caddysite.vn.caddy"]}]}]}],"match":[{"host":["caddysite.vn"]}],"terminal":true},{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"vars","root":"/data/localhost/public"}]},{"group":"group3","handle":[{"handler":"rewrite","uri":"/index.php?_url={http.request.uri}\u0026{http.request.uri.query}"}],"match":[{"not":[{"file":{}},{"path":["*.php"]}]}]},{"handle":[{"handler":"subroute","routes":[{"handle":[{"handler":"static_response","headers":{"Location":["{http.request.orig_uri.path}/"]},"status_code":308}],"match":[{"file":{"try_files":["{http.request.uri.path}/index.php"]},"not":[{"path":["*/"]}]}]},{"handle":[{"handler":"rewrite","uri":"{http.matchers.file.relative}"}],"match":[{"file":{"split_path":[".php"],"try_files":["{http.request.uri.path}","{http.request.uri.path}/index.php","index.php"],"try_policy":"first_exist_fallback"}}]},{"handle":[{"handler":"php","split_path":[".php"]}],"match":[{"path":["*.php"]}]},{"handle":[{"handler":"file_server"}]}]}],"match":[{"path":["*.php"]}]}]}],"match":[{"host":["localhost"]}],"terminal":true}]}}},"tls":{"automation":{"policies":[{"issuers":[{"module":"internal"}],"subjects":["127.0.0.1","::1"]}]}}}}